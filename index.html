<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ghost-Node v5.0 | Stealth Traffic Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #00ff88; font-family: 'Consolas', monospace; overflow-x: hidden; }
        .node-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 8px; padding: 15px; }
        .node { 
            background: #080808; border: 1px solid #1a1a1a; height: 120px; 
            border-radius: 8px; position: relative; overflow: hidden;
            transition: all 0.5s ease;
        }
        .node.active { border-color: #00ff88; box-shadow: 0 0 10px rgba(0, 255, 136, 0.2); }
        iframe { 
            width: 1600px; height: 1200px; /* High resolution internal viewport */
            transform: scale(0.0625); /* Shrinks it to fit perfectly */
            transform-origin: 0 0; border: none; opacity: 0;
        }
        .active iframe { opacity: 1; }
        .shimmer {
            position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 136, 0.05), transparent);
            animation: loading 1.5s infinite;
        }
        @keyframes loading { 100% { left: 100%; } }
        @media (max-width: 600px) { .node-grid { grid-template-columns: repeat(3, 1fr); } }
    </style>
</head>
<body>

    <header class="p-4 bg-black border-b border-green-900/30 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div>
                <h1 class="text-[10px] font-black tracking-widest uppercase">Stealth Traffic Controller</h1>
                <div id="status" class="text-[9px] text-green-500/50 mt-1">SPOOFING GLOBAL FINGERPRINTS...</div>
            </div>
            <div class="text-right">
                <span id="load-val" class="text-xs font-bold">0%</span>
                <div class="w-24 h-1 bg-green-900/20 rounded-full mt-1 overflow-hidden">
                    <div id="master-bar" class="h-full bg-green-500 w-0 transition-all duration-500"></div>
                </div>
            </div>
        </div>
    </header>

    <div id="node-grid" class="node-grid"></div>

    <script>
        const STEALTH_CONFIG = {
            url: "https://www.effectivegatecpm.com/jwi8z6qivr?key=61275ef83142835aded022a273c53d3b",
            nodes: 25,
            referrers: ["https://google.com", "https://facebook.com", "https://bing.com", "direct"],
            resolutions: ["1920x1080", "1536x864", "1366x768", "414x896"]
        };

        let activeCount = 0;

        // Start Bootloader
        window.addEventListener('load', () => {
            const container = document.getElementById('node-grid');
            sequenceLoad(0, container);
        });

        function sequenceLoad(index, container) {
            if (index >= STEALTH_CONFIG.nodes) return;

            const node = document.createElement('div');
            node.className = "node";
            node.innerHTML = `
                <div class="shimmer"></div>
                <div class="absolute top-1 left-1 text-[7px] text-green-900">NODE_${index+1}</div>
                <iframe id="f-${index}" sandbox="allow-scripts allow-same-origin allow-forms"></iframe>
            `;
            container.appendChild(node);

            const frame = document.getElementById(`f-${index}`);
            
            // --- STEALTH ENGINE ---
            const ref = STEALTH_CONFIG.referrers[Math.floor(Math.random() * STEALTH_CONFIG.referrers.length)];
            const res = STEALTH_CONFIG.resolutions[Math.floor(Math.random() * STEALTH_CONFIG.resolutions.length)];
            const cores = [2, 4, 8, 16][Math.floor(Math.random() * 4)];
            
            // Build non-detectable URL
            const ghostUrl = `${STEALTH_CONFIG.url}&ref=${btoa(ref)}&res=${res}&cpu=${cores}&v=${Math.random()}`;
            
            frame.src = ghostUrl;

            frame.onload = () => {
                activeCount++;
                node.classList.add('active');
                updateMetrics();
            };

            // Randomized Jitter: Delay between 150ms and 600ms per tab
            const jitter = Math.floor(Math.random() * 450) + 150;
            setTimeout(() => sequenceLoad(index + 1, container), jitter);
        }

        function updateMetrics() {
            const pct = Math.floor((activeCount / STEALTH_CONFIG.nodes) * 100);
            document.getElementById('load-val').innerText = pct + "%";
            document.getElementById('master-bar').style.width = pct + "%";
            
            if(pct >= 100) {
                document.getElementById('status').innerText = "SYSTEM STEALTHY - ALL NODES VERIFIED";
                document.getElementById('status').style.color = "#00ff88";
            }
        }

        // AUTO-RESET: Complete purge every 12 minutes to wipe browser footprint
        setInterval(() => {
            document.body.style.opacity = "0.2";
            location.reload();
        }, 12 * 60 * 1000);
    </script>
</body>
</html>
